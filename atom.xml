<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jonathan&#39;s SFPC Blog</title>
  
  <link href="/hexo-blog/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2016-07-20T23:38:56.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Jonathan Leung</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/hello-world/"/>
    <id>http://yoursite.com/hello-world/</id>
    <published>2016-07-20T23:54:34.693Z</published>
    <updated>2016-07-20T23:38:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>This is going to be the temporary place that I’m going to publish my projects<br>make at <a href="http://sfpc.io" target="_blank" rel="external">SFPC</a> until I overhaul this unto my own websites : )</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;This is going to be the temporary place that I’m going to publish my projects&lt;br&gt;make at &lt;a href=&quot;http://sfpc.io&quot; target=&quot;_blank&quot; rel=&quot;ex
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Face Mash</title>
    <link href="http://yoursite.com/Face-Mash/"/>
    <id>http://yoursite.com/Face-Mash/</id>
    <published>2016-07-20T23:54:34.684Z</published>
    <updated>2016-07-20T23:54:04.000Z</updated>
    
    <content type="html"><![CDATA[<p>If you combined photos of all your friends’ faces, what would it tell you?</p>
<p>This is what emerged for my friends:</p>
<p><img src="media/Face-Mash/combined.png" alt=""></p>
<h2 id="Constructing-the-Image"><a href="#Constructing-the-Image" class="headerlink" title="Constructing the Image"></a>Constructing the Image</h2><h3 id="Adding-One-at-a-Time"><a href="#Adding-One-at-a-Time" class="headerlink" title="Adding One at a Time"></a>Adding One at a Time</h3><p><a href="media/Face-Mash/face-mash-screens-side-by-side.mov"><img src="media/Face-Mash/face-mash-screens-side-by-side.mov.gif" alt=""></a></p>
<p>The above gif illustrates one image at a time: I wasn’t even close to reaching<br>the end.</p>
<h3 id="Slowly-Adding-More-and-More-at-a-Time"><a href="#Slowly-Adding-More-and-More-at-a-Time" class="headerlink" title="Slowly Adding More and More at a Time"></a>Slowly Adding More and More at a Time</h3><p><a href="media/Face-Mash/face-mash-screens.mov"><img src="media/Face-Mash/face-mash-screens.mov.gif" alt=""></a></p>
<p>Each additional image has less and less of an impact on the final result. Here<br>is a sped up version in which the later images are being many at a time added:</p>
<h2 id="Reflection"><a href="#Reflection" class="headerlink" title="Reflection"></a>Reflection</h2><p>I was a bit surprised that you could still make out what appears like hair and<br>part of the face:</p>
<p><img src="media/Face-Mash/hair-face.png" alt=""></p>
<p>because many photos are not photos of people’s faces:</p>
<p><img src="media/Face-Mash/1.jpg" alt=""><br><img src="media/Face-Mash/7.jpg" alt=""><br><img src="media/Face-Mash/19.jpg" alt=""><br><img src="media/Face-Mash/20.jpg" alt=""><br><img src="media/Face-Mash/28.jpg" alt=""></p>
<h2 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h2><p>This week at <a href="http://sfpc.io" target="_blank" rel="external">SFPC</a>, <a href="http://thesystemis.com/" target="_blank" rel="external">Zach</a> prompted us<br>to create an image that either melded multiple faces together. This assignment<br>was inspired by the work <a href="http://nancyburson.com/" target="_blank" rel="external">Nancy Berson</a> and <a href="http://salavon.com/" target="_blank" rel="external">Jason<br>Salavon</a>.</p>
<h2 id="Process"><a href="#Process" class="headerlink" title="Process"></a>Process</h2><p>Reorganized for understandability…</p>
<h3 id="1-Facebook-API-Fail"><a href="#1-Facebook-API-Fail" class="headerlink" title="1) Facebook API Fail"></a>1) Facebook API Fail</h3><p>Initially tried to use the Facebook api to obtain all of my friends and photos.<br>Turns out that you can [no longer obtain all of a user’s friends on facebook]<br>(<a href="https://developers.facebook.com/docs/apps/faq" target="_blank" rel="external">https://developers.facebook.com/docs/apps/faq</a>).</p>
<blockquote>
<p><img src="media/Face-Mash/deprecating-obtaining-friends.png" alt=""></p>
</blockquote>
<h3 id="2-Manually-Downloaded-the-Images"><a href="#2-Manually-Downloaded-the-Images" class="headerlink" title="2) Manually Downloaded the Images"></a>2) Manually Downloaded the Images</h3><p>I went to <code>https://www.facebook.com/jonleung137/friends</code>, scrolled <em>all</em> the way<br>down, and clicked <code>File &gt; Save</code> which gave me all the images inside a folder.</p>
<h3 id="3-Obtaining-Photos-Sorted-by-Friend-Interaction-Frequency"><a href="#3-Obtaining-Photos-Sorted-by-Friend-Interaction-Frequency" class="headerlink" title="3) Obtaining Photos Sorted by Friend Interaction Frequency"></a>3) Obtaining Photos Sorted by Friend Interaction Frequency</h3><p>Facebook uses some kind of algorithm to determine who you interact with more<br>and who you interact with less. I wanted the photos to be sorted by this<br>super fuzzy system.</p>
<p>To obtain the images, I did the following:</p>
<ol>
<li>Went to <a href="https://www.facebook.com/jonleung137/friends" target="_blank" rel="external">https://www.facebook.com/jonleung137/friends</a></li>
<li>Scrolled <em>all</em> the way down.</li>
<li>Opened the Chrome console</li>
<li>Copied and pasted the entirety of the <a href="https://code.jquery.com/jquery-2.2.4.min.js" target="_blank" rel="external">minified JQuery code</a> into the console</li>
<li><p>Ran this code in the console which builds a series of  <code>wget</code> commands that I<br>can run in bash and copies the code to my clipboard</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> data = <span class="string">""</span>;</div><div class="line">$.each($(<span class="string">".uiList._262m._4kg li div a img._s0._rv.img"</span>), <span class="function"><span class="keyword">function</span>(<span class="params">i, img</span>) </span>&#123;</div><div class="line">  data += <span class="string">'wget -O '</span> + i + <span class="string">'.jpg \"'</span> + img.src + <span class="string">'\"'</span> + <span class="string">'\n'</span></div><div class="line">&#125;);</div><div class="line">copy(data);</div></pre></td></tr></table></figure>
</li>
<li><p>Paste the code it gives me back into a <code>.sh</code> that I run</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">wget -O 0.jpg <span class="string">"https://scontent-lga3-1.xx.fbcdn.net/v/t1.0-1/c31.0.100.100/p100x100/12553002_10204845042917344_5549521851422223829_n.jpg?oh=fd45978c63e265135e813a1170d4d0c1&amp;oe=58366F94"</span></div><div class="line">wget -O 1.jpg <span class="string">"https://scontent-lga3-1.xx.fbcdn.net/v/t1.0-1/r90/c0.50.100.100/p100x100/10245434_10203348801465430_1552392502088381112_n.jpg?oh=ef2c086759f0d191a0dbfb58cfc1510d&amp;oe=58376F81"</span></div><div class="line">wget -O 2.jpg <span class="string">"https://scontent-lga3-1.xx.fbcdn.net/v/t1.0-1/p100x100/5232_10153546669894355_4063517365387124125_n.jpg?oh=e424aa502ef0a87455a37a76199dc429&amp;oe=5830D799"</span></div><div class="line">wget -O 3.jpg <span class="string">"https://scontent-lga3-1.xx.fbcdn.net/v/t1.0-1/p100x100/12804886_10208681677458375_4116887309452467904_n.jpg?oh=51e4c820cfddb5954ecedead8ceb37ca&amp;oe=581E6055"</span></div><div class="line"><span class="comment"># ...</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="4-Writing-the-Code"><a href="#4-Writing-the-Code" class="headerlink" title="4) Writing the Code"></a>4) Writing the Code</h3><h4 id="Psuedocode"><a href="#Psuedocode" class="headerlink" title="Psuedocode"></a>Psuedocode</h4><ul>
<li>create an array of rgb vectors, one for each pixel of the image<ul>
<li>initialize each of the rgb values initially to 0.</li>
<li>let’s call this array, <code>pixelsTotalArray</code></li>
</ul>
</li>
<li>then for each image<ul>
<li>read the rgb value of each pixel</li>
<li>and += it to the corresponding array value in <code>pixelsTotalArray</code></li>
</ul>
</li>
<li>then for each value of <code>pixelsTotalArray</code>, divide each rgb value by the number<br>of images there are.</li>
</ul>
<h4 id="Commits"><a href="#Commits" class="headerlink" title="Commits:"></a>Commits:</h4><p><em>Note, my commits are currently not the most organized for external consumption<br>…</em></p>
<p>See the commits to my project<br><a href="https://github.com/jonleung/face-mesh/commits/master" target="_blank" rel="external">here</a>:</p>
<h2 id="Future-work"><a href="#Future-work" class="headerlink" title="Future work"></a>Future work</h2><h3 id="Facial-Detection"><a href="#Facial-Detection" class="headerlink" title="Facial Detection"></a>Facial Detection</h3><p>Instead of using all images directly as they appear on Facebook (because there<br>is a lot of noise from that), I want to use a facial recognition library to:</p>
<ol>
<li>Exclude all photos that don’t have frontal facing photos in them</li>
<li>Properly crop and resize the photos so that all the faces are the same size<br>and orientation (see<br><a href="http://docs.opencv.org/master/da/d60/tutorial_face_main.html#gsc.tab=0" target="_blank" rel="external">this</a><br>for what I’m talking about).</li>
</ol>
<h3 id="Obtain-Higher-Resolution-Images"><a href="#Obtain-Higher-Resolution-Images" class="headerlink" title="Obtain Higher Resolution Images"></a>Obtain Higher Resolution Images</h3><ul>
<li>You can <a href="http://stackoverflow.com/questions/11743768/how-to-get-facebook-profile-large-square-picture" target="_blank" rel="external">publicly access Facebook photos from just knowing someone’s Facebook<br>User ID</a></li>
<li>Since the user’s ids are in the webpage, we can extract the IDs from there</li>
</ul>
<h3 id="Combine-Images-Together"><a href="#Combine-Images-Together" class="headerlink" title="Combine Images Together"></a>Combine Images Together</h3><ul>
<li>Instead of loading more than 2000 individual images, combining the images<br>together into a sprite sheet with ImageMagick would be ideal.</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;If you combined photos of all your friends’ faces, what would it tell you?&lt;/p&gt;
&lt;p&gt;This is what emerged for my friends:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;m
    
    </summary>
    
    
  </entry>
  
</feed>
